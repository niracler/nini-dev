# 页 15：MCP（Model Context Protocol）（🔴 重点 💻 演示）

## 页面内容摘要

```text
# MCP 2024.11
🔴 重点 💻 演示

副标题：Model Context Protocol — AI 世界的 USB-C

左栏：实战时序图
- 用户 → Claude → MCP → GitHub 的查询 PR 流程
- 核心价值：AI 不再局限于训练数据，可以获取实时信息并执行实际操作

右栏：
- AI 像新员工：聪明但缺信息和工具 → MCP = 给它接工具箱
- N×M 问题：以前 N 应用 × M 工具 = N×M 适配器 → 现在写一次 Server，所有 Host 都能用
- 三层架构：Host（Claude Desktop、Cursor）/ Client（连接器）/ Server（Playwright、GitHub）
- 三大 Primitives：Tools（模型调用）/ Resources（应用读取）/ Prompts（用户模板）
- 时间线：2024.11 Anthropic → 2025.3 OpenAI → 2025.12 Linux 基金会
- ⚠️ 注意：MCP Server 装太多会大量消耗 Context
```

## 6 问分析

### 1. 如何讲

- **时长**：~5 分钟
- **节奏**：先用 USB-C 类比建立直觉，再讲 N×M 问题，看时序图理解流程，最后现场演示
- **过渡语**：
  - 开场：「刚才讲了三代 AI 编程工具，现在看一个关键的基础设施——MCP。它让 AI 能够连接各种外部工具和数据源」
  - 结束：「MCP 解决了工具连接问题。但 Agent 运行时间长了，Context 会满。下一页讲两种 Context 管理策略——Subagent 和 Skill」
- **核心记忆点**：**MCP = AI 世界的 USB-C——写一次 Server，所有 Host 都能用**

### 2. 为何要懂

- **重要程度**：🔴 必须懂
- **价值**：这是 2024-2025 年最重要的 AI 基础设施标准。Anthropic 提出，OpenAI、Google 先后采用，已进入 Linux 基金会
- **与听众关联**：
  - 如果团队要让 AI 连接内部系统（数据库、API、文档），MCP 是标准方式
  - **IoT 场景**：公司的灯控制服务也能做成 MCP Server，让 LLM 直接控制灯——这正是听众团队可以做的事

### 3. 演示策略

- **需要演示**：是（强烈推荐）
- **演示工具**：Claude Code + Playwright MCP
- **演示指令**：

```
用 Playwright 打开 anthropic.com，点击导航进入 Claude 产品页面，然后截图
```

- **演示要点**：
  1. 观众能看到浏览器自动打开
  2. 页面自动导航到 Claude 产品页
  3. 截图保存作为证明
- **时长**：~30-45 秒
- **演示时口述**：
  > 「我让 Claude 通过 MCP 控制浏览器——打开 Anthropic 官网，导航到产品页面，然后截图。整个过程 Claude 自己决定怎么操作。这就是 MCP 的价值——统一的协议让 AI 能调用各种工具。」

### 4. 可能问题

| 问题 | 准备的回答 |
| ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| MCP 和 Function Call 什么区别？ | Function Call 是「模型调用函数的协议」；MCP 是「让不同 AI 应用共享工具的标准」。MCP 建立在 Function Call 之上，解决的是「写一次，到处用」的问题 |
| 我们怎么用 MCP？ | 两种方式：①用现成的 Server（GitHub、数据库、Playwright 等）；②自己写 Server 封装内部系统。Claude Code 和 Cursor 都支持配置 MCP Server |
| 安全吗？MCP Server 能访问什么？ | Server 只能做你授权它做的事。启动时需要配置权限。但要注意：不要装来路不明的 Server，它理论上可以访问你授权的所有资源 |
| 有哪些现成的 Server？ | awesome-mcp-servers 有精选列表。推荐：Context7（文档查询）、Playwright（浏览器自动化）、GitHub（代码仓库）、PostgreSQL（数据库） |
| 为什么说装太多会消耗 Context？ | 每个 MCP Server 的工具描述会注入到 System Prompt。10 个 Server 各 5 个工具，就是 50 个工具描述，可能占用数千 tokens |
| Resources 和 Prompts 是什么？ | Tools 让模型调用函数；Resources 让应用读取数据（如文件内容）；Prompts 是用户可触发的模板。实践中 Tools 用得最多 |

### 5. 取舍逻辑

| 没讲的内容 | 取舍理由 |
| ---------------------- | ---------------------- |
| MCP SDK 具体语法 | 📚 开发时查文档即可 |
| JSON-RPC 传输层细节 | 📚 太底层，扫盲不需要 |
| Resources/Prompts 深入 | ⏱️ 实践中 Tools 最常用 |
| MCP 安全模型细节 | ⏱️ 进阶话题 |

### 6. 观点/事实区分

| 内容 | 类型 | 来源 |
| ------------------------- | -------- | --------------------- |
| 2024.11 Anthropic 发布 | 事实 | Anthropic 官方公告 |
| 2025.3 OpenAI 采用 | 事实 | OpenAI 官方公告 |
| 2025.12 进入 Linux 基金会 | 事实 | Linux Foundation 公告 |
| USB-C 类比 | 共识观点 | 社区普遍采用 |
| N×M → N+M 问题简化 | 共识观点 | 协议设计文档 |

## 演示备忘

**正式演示**：

```
用 Playwright 打开 anthropic.com，点击导航进入 Claude 产品页面，然后截图
```

**备用演示**（如果 Playwright 有问题）：

```
用 Playwright 打开 cursor.com 首页，截个图
```

**演示时口述**：

> 「我让 Claude 通过 MCP 控制浏览器——打开官网，导航到产品页面，然后截图。整个过程 Claude 自己决定怎么操作。这就是 MCP 的价值——统一的协议让 AI 能调用各种工具。」

**演示亮点**：

- 多步骤操作（不是简单的单次请求）
- 真实浏览器控制（观众能看到页面变化）
- 截图作为证明（可视化结果）

## 个人案例分享（口述素材）

### 案例 1：多平台工作整合

> 「我自己的例子——公司用云效做协作开发，我个人写 Home Assistant 贡献代码是在 GitHub。通过 MCP，我很自然地就能让 LLM 帮我看今天有什么任务、今天有什么日程。现在发布版本、打 tag 这些操作，我都让它来帮我做了。」

**要点**：MCP 让 AI 能同时连接多个平台（云效 + GitHub + 日历），统一在一个对话中完成。

### 案例 2：IoT 灯控制

> 「再想远一点——我们公司的灯控制服务，完全可以做成一个 MCP Server。然后你就能对 AI 说『把会议室的灯调暗一点』，它就帮你做了。这不是科幻，技术上现在就能实现。」

**要点**：

- 直接关联听众业务（IoT 团队）
- 展示 MCP 不只是「开发工具」，而是「万物互联的协议」
- 暗示听众团队可以尝试的方向

### 案例 3：AI 日常管家

> 「其实还能更进一步——我的邮箱服务、Apple 日历也能接进来。问 AI『今天有什么事』，它能同时查邮箱通知、日历日程，综合告诉我。安排会议、回复邮件，都可以让它来做。它就像一个统一入口的日常管家。」

**要点**：

- 从开发工具延伸到生活助手
- **统一入口**：不用在各个 App 之间切换
- 展示 MCP 的无限可能性
