## Context

「AI 编程分享」是一份面向物联网应用软件开发团队的技术分享文档，内容混合了：
- 可验证事实（历史事件、研究数据、技术参数）
- 作者个人观点和经历
- 业内专家观点引用
- 行业预测和分析

当前问题：读者难以区分事实与观点，信源可信度不透明。

**技术栈**：VitePress 1.5.0 + markdown-it-footnote

## Goals / Non-Goals

**Goals**:
- 建立清晰的事实/观点区分标准
- 使用 VitePress 原生功能实现，无需额外依赖
- 提供信源等级体系，帮助读者评估可信度
- 对专家观点提供充分的背景信息

**Non-Goals**:
- 不追求 100% 标注覆盖（只标注重要观点）
- 不自定义 CSS 样式（使用 VitePress 默认样式）
- 不做自动化检测工具

## Decisions

### 1. 使用 GitHub-flavored Alerts 而非自定义容器

**决策**：使用 `> [!NOTE]`、`> [!TIP]`、`> [!IMPORTANT]` 语法

**理由**：
- VitePress 1.5.0 原生支持，无需配置
- 语法简洁，与 GitHub/Obsidian 兼容
- 有默认样式，开箱即用

**备选方案**：
- VitePress 自定义容器 `::: opinion` — 需要配置 CSS，放弃
- 行内标注 `**【观点】**` — 不够醒目，放弃

### 2. 标注类型映射

| Alert 类型 | 语义用途 | 选择理由 |
|-----------|---------|---------|
| `[!NOTE]` | 作者观点 | NOTE 暗示「仅供参考」 |
| `[!TIP]` | 专家观点 | TIP 暗示「来自专家的建议」 |
| `[!IMPORTANT]` | 行业分析 | IMPORTANT 强调需要关注 |

### 3. 信源等级体系

采用四级体系，在脚注中用 emoji + 等级标记：

```
[^1]: 🔬 L1 | 原始论文/官方公告
[^2]: 📰 L2 | 权威媒体/研究机构
[^3]: 📝 L3 | 行业媒体/知名博主
[^4]: 💬 L4 | 一般博客/社交媒体
```

**理由**：
- Emoji 提供视觉快速识别
- L1-L4 提供明确等级
- 不影响现有脚注链接功能

### 4. 专家观点的背景信息

**首次出现**：提供完整背景
```markdown
> [!TIP] 专家观点 — Simon Willison
> **背景**：独立开发者、数据新闻先驱、Django 核心贡献者
> **来源**：2025年3月博文《Will the future...》
>
> 「引用内容...」
```

**后续出现**：简洁引用
```markdown
> [!TIP] 专家观点 — Simon Willison [^55]
> 「引用内容...」
```

**理由**：避免重复，同时确保首次出现时读者能了解专家立场

### 5. 标注粒度

- **重要观点**：句子级别，单独 Alert 块
- **一般观点段落**：段落级别，整段用 Alert 包裹
- **「我的亲历视角」章节**：在小标题处标注一次，整节默认为作者观点

## Risks / Trade-offs

| 风险 | 概率 | 影响 | 缓解 |
|------|------|------|------|
| Alert 过多影响阅读体验 | 中 | 中 | 只标注重要观点，不过度标注 |
| 信源等级判定主观 | 中 | 低 | 在阅读指南中明确标准 |
| 工作量大 | 高 | 低 | 分阶段实施，优先核心文档 |

## Migration Plan

1. **Phase 1**：基础设施（阅读指南 + 附录）
2. **Phase 2**：核心文档（观点最多的 3 个文件）
3. **Phase 3**：历史章节
4. **Phase 4**：其余文档 + 脚注升级
5. **Phase 5**：验证

无需回滚计划（添加标注不影响现有功能）。

## Open Questions

无。已通过与用户讨论确认所有设计决策。
